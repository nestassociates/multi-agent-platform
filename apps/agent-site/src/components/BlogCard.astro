---
interface Props {
  post: {
    slug: string;
    title: string;
    excerpt?: string;
    featuredImageUrl?: string;
    publishedAt: string;
    author?: string;
  };
}

const { post } = Astro.props;
---

<article class="bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition group">
  <a href={`/blog/${post.slug}`} class="block">
    <!-- Featured Image -->
    {post.featuredImageUrl ? (
      <div class="relative h-48 overflow-hidden">
        <img
          src={post.featuredImageUrl}
          alt={post.title}
          class="w-full h-full object-cover group-hover:scale-105 transition duration-300"
        />
      </div>
    ) : (
      <div class="relative h-48 bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center">
        <svg class="w-16 h-16 text-white opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
        </svg>
      </div>
    )}

    <!-- Post Content -->
    <div class="p-6">
      <!-- Date -->
      <div class="text-sm text-gray-500 mb-2">
        <time datetime={post.publishedAt}>
          {new Date(post.publishedAt).toLocaleDateString('en-GB', {
            day: 'numeric',
            month: 'long',
            year: 'numeric'
          })}
        </time>
      </div>

      <!-- Title -->
      <h3 class="text-xl font-bold mb-3 group-hover:text-blue-600 transition line-clamp-2">
        {post.title}
      </h3>

      <!-- Excerpt -->
      {post.excerpt && (
        <p class="text-gray-600 mb-4 line-clamp-3">
          {post.excerpt}
        </p>
      )}

      <!-- Read More Link -->
      <div class="text-blue-600 hover:text-blue-700 font-medium flex items-center">
        Read more
        <svg class="w-4 h-4 ml-1 group-hover:translate-x-1 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </div>

      <!-- Author (if available) -->
      {post.author && (
        <div class="mt-4 pt-4 border-t text-sm text-gray-600">
          By {post.author}
        </div>
      )}
    </div>
  </a>
</article>
