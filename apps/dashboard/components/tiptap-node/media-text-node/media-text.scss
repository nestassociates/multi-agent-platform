.media-text {
  display: flex;
  gap: 1.5rem;
  margin: 1.5rem 0;
  padding: 0.75rem;
  border: 1px solid transparent;
  border-radius: 0.5rem;
  position: relative;
  background-color: transparent;
  transition: border-color 0.2s, background-color 0.2s;

  &:hover,
  &--selected {
    border-color: var(--tt-brand-color-200, #e0e7ff);
    background-color: var(--tt-brand-color-50, #f8fafc);
  }

  // Image section
  &__image {
    flex-shrink: 0;
    display: flex;
    align-items: flex-start;

    img {
      width: 100%;
      height: auto;
      border-radius: 0.375rem;
      object-fit: cover;
    }
  }

  // Image placeholder
  &__image-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    min-height: 150px;
    background-color: #f3f4f6;
    border: 2px dashed #d1d5db;
    border-radius: 0.375rem;
    gap: 0.5rem;
  }

  // Text content section
  &__content {
    flex: 1;
    min-width: 0;

    // Reset margins for first/last elements inside
    > *:first-child {
      margin-top: 0;
    }

    > *:last-child {
      margin-bottom: 0;
    }

    // Ensure paragraphs inside have proper styling
    p {
      margin: 0.5rem 0;

      &:first-child {
        margin-top: 0;
      }

      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  // Position: image on right
  &--right {
    flex-direction: row-reverse;
  }

  // Width variants - applied to image section
  &--width-33 &__image {
    width: 33%;
  }

  &--width-50 &__image {
    width: 50%;
  }

  &--width-66 &__image {
    width: 66%;
  }

  // Responsive: stack on mobile
  @media (max-width: 640px) {
    flex-direction: column !important;
    gap: 1rem;

    &__image {
      width: 100% !important;
    }

    &__content {
      width: 100%;
    }
  }

  // Controls toolbar
  &__controls {
    position: absolute;
    top: -0.5rem;
    left: 50%;
    transform: translateX(-50%) translateY(-100%);
    display: flex;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem;
    background: white;
    border: 1px solid var(--tt-gray-light-200, #e5e7eb);
    border-radius: 0.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s ease-in-out 0.3s; // Delay before hiding
    z-index: 60;

    // Style buttons inside controls
    button {
      &:hover {
        background-color: var(--tt-gray-light-100, #f3f4f6);
      }
    }

    // Keep controls visible when hovering over them
    &:hover {
      opacity: 1;
      pointer-events: auto;
      transition-delay: 0s; // No delay when showing
    }
  }

  &:hover &__controls,
  &--selected &__controls {
    opacity: 1;
    pointer-events: auto;
    transition-delay: 0s; // No delay when showing
  }

  // Ensure selected state shows controls
  &.ProseMirror-selectednode &__controls {
    opacity: 1;
    pointer-events: auto;
  }
}
